<!-- Campaign Manager Dashboard - Clean Professional Layout -->
<div class="dashboard-container p-4 bg-gray-50 min-h-screen">
  
  <!-- Dashboard Header -->
  <div class="dashboard-header mb-4">
    <div class="flex justify-content-between align-items-center mb-3">
      <div>
        <h1 class="text-3xl font-bold text-900 m-0">Campaign Manager</h1>
        <p class="text-600 m-0 mt-1">Real-time marketing performance analytics</p>
      </div>
      
      <!-- Control Panel -->
      <div class="flex gap-3 align-items-center">
        <p-dropdown 
          [options]="channelOptions" 
          [(ngModel)]="selectedChannel"
          (onChange)="onChannelChange()"
          optionLabel="label"
          optionValue="value"
          styleClass="w-10rem">
        </p-dropdown>
        
        <p-dropdown 
          [options]="dateRangeOptions" 
          [(ngModel)]="selectedDateRange"
          (onChange)="onDateRangeChange()"
          optionLabel="label"
          optionValue="value"
          styleClass="w-10rem">
        </p-dropdown>
        
        <p-button 
          [label]="isLiveUpdatesActive ? 'Live ON' : 'Live OFF'"
          [icon]="isLiveUpdatesActive ? 'pi pi-pause' : 'pi pi-play'"
          [styleClass]="isLiveUpdatesActive ? 'p-button-success p-button-sm' : 'p-button-secondary p-button-sm'"
          (onClick)="toggleLiveUpdates()">
        </p-button>
        
        <p-button 
          label="New Campaign" 
          icon="pi pi-plus"
          styleClass="p-button-primary p-button-sm"
          (onClick)="onCreateCampaign()">
        </p-button>
      </div>
    </div>

    <!-- Live Notification Banner -->
    <div 
      *ngIf="showLiveNotification" 
      class="bg-green-100 border-green-300 border-1 border-round p-3 mb-3 flex align-items-center gap-3">
      <i class="pi pi-check-circle text-green-700"></i>
      <span class="text-green-800 font-medium">{{liveNotification}}</span>
      <p-button 
        icon="pi pi-times" 
        styleClass="p-button-text p-button-sm ml-auto"
        (onClick)="showLiveNotification = false">
      </p-button>
    </div>
  </div>

  <!-- Executive KPI Cards Row -->
  <div class="kpi-section mb-4">
    <app-kpi-cards></app-kpi-cards>
  </div>

  <!-- Campaign Notifications Section -->
  <div class="notifications-section mb-4">
    <app-campaign-notifications></app-campaign-notifications>
  </div>

  <!-- Main Analytics Grid - Three Equal Columns -->
  <div class="main-analytics-grid mb-4">
    <div class="grid">
      
      <!-- Left Column: Performance Analytics -->
      <div class="col-12 lg:col-4">
        <div class="analytics-column">
          <h3 class="column-header text-lg font-semibold text-900 mb-3">Performance Analytics</h3>
          
          <div class="component-wrapper mb-4">
            <app-channel-performance></app-channel-performance>
          </div>
          
          <div class="component-wrapper mb-4">
            <app-heat-map></app-heat-map>
          </div>
          
          <div class="component-wrapper mb-4" *ngIf="dataAge >= 30">
            <app-journey-orchestration></app-journey-orchestration>
          </div>
        </div>
      </div>

      <!-- Center Column: Campaign Management -->
      <div class="col-12 lg:col-4">
        <div class="analytics-column">
          <h3 class="column-header text-lg font-semibold text-900 mb-3">Campaign Management</h3>
          
          <div class="component-wrapper mb-4">
            <app-campaign-monitoring></app-campaign-monitoring>
          </div>
          
          <div class="component-wrapper mb-4">
            <app-budget-calculator></app-budget-calculator>
          </div>
          
          <div class="component-wrapper mb-4">
            <app-bsp-comparison></app-bsp-comparison>
          </div>
        </div>
      </div>

      <!-- Right Column: Intelligence & Insights -->
      <div class="col-12 lg:col-4">
        <div class="analytics-column">
          <h3 class="column-header text-lg font-semibold text-900 mb-3">AI Insights</h3>
          
          <div class="component-wrapper mb-4">
            <app-ai-suggestions></app-ai-suggestions>
          </div>
          
          <!-- Progressive Feature Sections -->
          <div class="component-wrapper mb-4" *ngIf="dataAge >= 30">
            <app-inactive-customers></app-inactive-customers>
          </div>
          
          <div class="component-wrapper mb-4" *ngIf="dataAge >= 45">
            <app-festival-calendar></app-festival-calendar>
          </div>
          
          <!-- Advanced Analytics Teaser -->
          <div class="component-wrapper mb-4" *ngIf="dataAge >= 60">
            <p-card header="Advanced Analytics" styleClass="advanced-analytics-card">
              <div class="text-center p-3">
                <i class="pi pi-chart-bar text-4xl text-purple-600 mb-3 block"></i>
                <h4 class="text-purple-900 mb-2 font-semibold">Predictive Intelligence</h4>
                <p class="text-600 mb-3 text-sm">Advanced trend analysis and customer lifetime value prediction</p>
                <p-button 
                  label="View Analytics" 
                  icon="pi pi-arrow-right" 
                  styleClass="p-button-outlined p-button-sm">
                </p-button>
              </div>
            </p-card>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Feature Availability Banner -->
  <div *ngIf="getSectionAvailabilityStatus().length > 0" class="feature-banner mb-4">
    <p-card styleClass="feature-availability-card bg-blue-50">
      <div class="flex align-items-center gap-3">
        <i class="pi pi-star-fill text-blue-600 text-xl"></i>
        <div class="flex-1">
          <h4 class="text-blue-900 m-0 mb-2 font-semibold">Advanced Features Available</h4>
          <div class="flex flex-wrap gap-2">
            <p-tag 
              *ngFor="let feature of getSectionAvailabilityStatus()" 
              [value]="feature" 
              severity="info"
              styleClass="text-xs">
            </p-tag>
          </div>
        </div>
        <div class="text-blue-700 font-semibold">{{dataAge}} days data</div>
      </div>
    </p-card>
  </div>

  <!-- Dashboard Footer -->
  <div class="dashboard-footer">
    <p-card styleClass="footer-stats-card">
      <div class="grid text-center">
        <div class="col-6 md:col-3">
          <div class="footer-stat">
            <div class="stat-value text-2xl font-bold text-900">{{totalCampaigns}}</div>
            <div class="stat-label text-sm text-600">Total Campaigns</div>
          </div>
        </div>
        <div class="col-6 md:col-3">
          <div class="footer-stat">
            <div class="stat-value text-2xl font-bold text-green-600">{{totalReach | number}}</div>
            <div class="stat-label text-sm text-600">Total Reach</div>
          </div>
        </div>
        <div class="col-6 md:col-3">
          <div class="footer-stat">
            <div class="stat-value text-2xl font-bold text-blue-600">${{totalSpend | number}}</div>
            <div class="stat-label text-sm text-600">Total Spend</div>
          </div>
        </div>
        <div class="col-6 md:col-3">
          <div class="footer-stat">
            <div class="stat-value text-2xl font-bold text-purple-600">{{dataAge}} days</div>
            <div class="stat-label text-sm text-600">Data History</div>
            <div class="text-xs text-500 mt-1">{{getDataAgeDescription()}}</div>
          </div>
        </div>
      </div>
    </p-card>
  </div>

  <!-- Floating Action Button -->
  <div class="fixed bottom-4 right-4 z-5">
    <p-button 
      icon="pi pi-cog"
      styleClass="p-button-rounded p-button-help p-button-lg"
      pTooltip="Dashboard Settings"
      tooltipPosition="left"
      (onClick)="onCreateCampaign()">
    </p-button>
  </div>

</div>