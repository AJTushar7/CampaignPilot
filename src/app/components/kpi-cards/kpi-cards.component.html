<!-- Executive KPI Cards - Clean Professional Layout -->
<div class="kpi-cards-container">
  
  <!-- Loading State -->
  <div *ngIf="loading" class="grid">
    <div class="col-12 sm:col-6 lg:col" *ngFor="let i of [1,2,3,4,5]">
      <p-card styleClass="kpi-skeleton-card h-full">
        <div class="p-3">
          <div class="flex justify-content-between align-items-center mb-3">
            <div class="skeleton-circle"></div>
            <div class="skeleton-text-sm"></div>
          </div>
          <div class="skeleton-text-lg mb-2"></div>
          <div class="skeleton-text-sm mb-2"></div>
          <div class="skeleton-progress"></div>
        </div>
      </p-card>
    </div>
  </div>

  <!-- KPI Cards -->
  <div *ngIf="!loading" class="grid">
    <div class="col-12 sm:col-6 lg:col" *ngFor="let kpi of kpiMetrics; let i = index">
      <p-card styleClass="kpi-card h-full">
        <div class="p-3">
          
          <!-- Card Header -->
          <div class="flex justify-content-between align-items-center mb-3">
            <div [class]="'kpi-icon bg-' + kpi.color + '-100 border-round-full'" 
                 style="width: 48px; height: 48px; display: flex; align-items: center; justify-content: center;">
              <i class="pi" [ngClass]="[kpi.icon, 'text-' + kpi.color + '-600', 'text-xl']"></i>
            </div>
            
            <div class="flex align-items-center gap-1" [ngClass]="getTrendColor(kpi.growth)">
              <i class="pi text-sm" [ngClass]="getTrendIcon(kpi.growth)"></i>
              <span class="text-sm font-semibold">{{kpi.growth}}</span>
            </div>
          </div>

          <!-- KPI Value -->
          <div class="kpi-value text-2xl font-bold text-900 mb-1">
            {{kpi.value}}
          </div>
          
          <!-- KPI Label -->
          <div class="kpi-label text-sm text-600 font-medium mb-3">
            {{kpi.label}}
          </div>
          
          <!-- Progress Indicator -->
          <div class="progress-container">
            <div class="bg-surface-200 border-round" style="height: 4px; width: 100%;">
              <div class="progress-fill border-round transition-all transition-duration-500" 
                   [class]="'bg-' + kpi.color + '-500'"
                   [style]="{'width': getProgressWidth(i) + '%', 'height': '100%'}">
              </div>
            </div>
            <div class="flex justify-content-between mt-1">
              <span class="text-xs text-500">Target</span>
              <span class="text-xs" [class]="'text-' + kpi.color + '-600'">{{getProgressWidth(i)}}%</span>
            </div>
          </div>
        </div>
      </p-card>
    </div>
  </div>

  <!-- Real-time Indicator -->
  <div *ngIf="!loading" class="flex justify-content-center align-items-center gap-2 mt-3">
    <i class="pi pi-circle-fill text-green-500 animate-pulse" style="font-size: 0.5rem;"></i>
    <span class="text-xs text-500">Live data â€¢ Last updated {{getLastUpdateTime()}}</span>
  </div>
</div>