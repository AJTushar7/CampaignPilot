<!-- Campaign Analytics Dashboard - Exact Clone from Design -->
<div class="campaign-analytics-dashboard">
  
  <!-- Header Section -->
  <header class="dashboard-header">
    <div class="header-content">
      <div class="title-section">
        <h1 class="dashboard-title">Campaign Analytics Dashboard</h1>
        <p class="dashboard-subtitle">Multi-Channel Campaign Performance ‚Ä¢ Real-time tracking across SMS, WhatsApp, Email, Push & RCS</p>
        
        <!-- Live Notifications -->
        <div class="live-notifications" *ngIf="showLiveNotification">
          <div class="notification-item" [class.active]="showLiveNotification">
            <span class="live-indicator">‚óè</span>
            <span class="notification-text">Live Updates Active</span>
            <span class="notification-message">{{liveNotification}}</span>
          </div>
        </div>
      </div>
      <div class="header-actions">
        <select class="channel-selector" [(ngModel)]="selectedChannel" (change)="onChannelChange()" 
                title="Select channel to filter dashboard data" aria-label="Channel filter dropdown">
          <option value="all">All Channels</option>
          <option value="whatsapp">WhatsApp</option>
          <option value="sms">SMS</option>
          <option value="email">Email</option>
          <option value="push">Push</option>
          <option value="rcs">RCS</option>
        </select>
        <button class="new-campaign-btn" (click)="onCreateCampaign()" 
                title="Create a new marketing campaign" aria-label="Create new campaign">
          + New Campaign
        </button>
      </div>
    </div>
  </header>

  <!-- KPI Cards Row - Exact match to provided design -->
  <section class="kpi-section">
    <div class="kpi-grid">
      <div class="kpi-card" title="Total revenue generated from all campaigns" aria-label="Total revenue metric">
        <div class="kpi-icon revenue-icon">
          <i class="pi pi-credit-card"></i>
        </div>
        <h3 class="kpi-label">Total Revenue</h3>
        <div class="kpi-value">‚Çπ50.5L</div>
        <div class="kpi-detail">
          <span class="trend-indicator positive">+18.5%</span>
          <span class="trend-period">vs last month</span>
        </div>
      </div>
      
      <div class="kpi-card" title="Return on investment across all campaigns" aria-label="Campaign ROI metric">
        <div class="kpi-icon roi-icon">
          <i class="pi pi-chart-line"></i>
        </div>
        <h3 class="kpi-label">Campaign ROI</h3>
        <div class="kpi-value">6.0x</div>
        <div class="kpi-detail">
          <span class="trend-indicator positive">+2.1x</span>
          <span class="trend-period">improvement</span>
        </div>
      </div>
      
      <div class="kpi-card" title="Total messages sent across all channels" aria-label="Messages sent metric">
        <div class="kpi-icon messages-icon">
          <i class="pi pi-comments"></i>
        </div>
        <h3 class="kpi-label">Messages Sent</h3>
        <div class="kpi-value">4.8M</div>
        <div class="kpi-detail">Across all channels</div>
      </div>
      
      <div class="kpi-card" title="Average conversion rate from all campaigns" aria-label="Conversion rate metric">
        <div class="kpi-icon conversion-icon">
          <i class="pi pi-target"></i>
        </div>
        <h3 class="kpi-label">Avg Conversion Rate</h3>
        <div class="kpi-value">10.7%</div>
        <div class="kpi-detail">
          <span class="trend-indicator positive">+3.2%</span>
          <span class="trend-period">from target</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Main Content Grid -->
  <div class="main-content">
    
    <!-- Channel Performance & Engagement Heatmap Row -->
    <section class="analytics-row">
      
      <!-- Channel Performance with Enhanced Features -->
      <div class="chart-panel channel-performance">
        <div class="panel-header">
          <h3>Channel Performance</h3>
          <div class="ai-suggestion-tooltip" title="AI suggests focusing 60% budget on WhatsApp for optimal ROI">
            <span class="ai-icon">ü§ñ</span>
            <span class="suggestion-text">Focus 60% budget on WhatsApp</span>
          </div>
          <select class="metric-dropdown">
            <option>Conversions</option>
            <option>Revenue</option>
            <option>ROI</option>
          </select>
        </div>
        <div class="channel-chart">
          <div class="channel-bar" *ngFor="let channel of channelData">
            <div class="channel-info">
              <span class="channel-name">{{channel.name}}</span>
              <span class="channel-trend" [class.positive]="channel.trend > 0" [class.negative]="channel.trend < 0">
                {{channel.trend > 0 ? '+' : ''}}{{channel.trend}}%
              </span>
            </div>
            <div class="bar-container">
              <div class="bar-fill" [style.width.%]="channel.percentage" [style.background-color]="channel.color"></div>
            </div>
            <div class="channel-value">
              {{channel.value}}
              <span class="channel-cost">‚Çπ{{channel.avgCost}}/msg</span>
            </div>
          </div>
        </div>
        
        <!-- Enhanced Channel Insights -->
        <div class="channel-insights">
          <div class="insight-item">
            <strong>Best Performer:</strong> WhatsApp (42% of revenue)
          </div>
          <div class="insight-item">
            <strong>Cost Leader:</strong> SMS (‚Çπ0.02/msg)
          </div>
          <div class="insight-item">
            <strong>Growth Opportunity:</strong> RCS (+28% this month)
          </div>
        </div>
      </div>

      <!-- Engagement Heatmap -->
      <div class="chart-panel engagement-heatmap">
        <div class="panel-header">
          <h3>Engagement Heatmap</h3>
        </div>
        
        <div class="heatmap-container">
          <!-- Time Headers -->
          <div class="heatmap-header">
            <div class="time-slot">12 AM</div>
            <div class="time-slot">6 AM</div>
            <div class="time-slot">12 PM</div>
            <div class="time-slot">6 PM</div>
          </div>
          
          <!-- Heatmap Grid -->
          <div class="heatmap-grid">
            <div class="heatmap-row" *ngFor="let day of heatmapData">
              <div class="day-label">{{day.name}}</div>
              <div class="heat-cell" 
                   *ngFor="let slot of day.slots" 
                   [class]="'heat-' + slot.intensity"
                   [style.background-color]="getHeatColor(slot.value)">
                {{slot.value}}%
              </div>
            </div>
          </div>
          
          <!-- Heatmap Legend -->
          <div class="heatmap-legend">
            <div class="legend-item">
              <span class="legend-label">Low</span>
              <div class="legend-bar">
                <div class="legend-gradient"></div>
              </div>
              <span class="legend-label">High</span>
              <span class="legend-note">(Avg by slot)</span>
            </div>
            
            <!-- Time Performance Chart -->
            <div class="time-performance">
              <div class="time-bar" *ngFor="let time of timePerformance">
                <div class="time-label">{{time.label}}</div>
                <div class="performance-bar" [style.width.%]="time.performance"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- AI Suggestions -->
        <div class="ai-suggestions">
          <h4>AI Suggestions</h4>
          <ul class="suggestion-list">
            <li>Peak engagement at Wed 6 PM (~58%). Schedule high-value promos there.</li>
            <li>Avoid Sun 12 AM (6%). Use as fallback or A/B test creatives.</li>
            <li>Timezone hint: skew toward noon/evening slots for metrics A/B test AM for Tier-2/3</li>
          </ul>
        </div>
      </div>
      
    </section>

    <!-- Real-time Campaign Monitoring -->
    <section class="monitoring-section" aria-label="Real-time campaign monitoring dashboard">
      <div class="section-header">
        <h3>Real-time Campaign Monitoring</h3>
        <div class="ai-suggestion-tooltip" title="AI Suggestion: Consider pausing low-performing campaigns to optimize budget allocation">
          <span class="ai-icon">ü§ñ</span>
          <span class="suggestion-text">AI suggests pausing 2 underperforming campaigns</span>
        </div>
        <div class="controls">
          <select class="time-filter" [(ngModel)]="selectedTimeFilter" (change)="onTimeFilterChange()" 
                  title="Filter campaigns by time period" aria-label="Time period filter">
            <option *ngFor="let option of timeFilterOptions" [value]="option.value">{{option.label}}</option>
          </select>
          <select class="status-filter" [(ngModel)]="selectedStatusFilter" (change)="onStatusFilterChange()"
                  title="Filter campaigns by status" aria-label="Campaign status filter">
            <option *ngFor="let option of statusFilterOptions" [value]="option.value">{{option.label}}</option>
          </select>
          <div class="view-toggle" role="tablist" aria-label="View mode selection">
            <button [class.active]="viewMode === 'cards'" (click)="setViewMode('cards')" role="tab" 
                    [attr.aria-selected]="viewMode === 'cards'" title="Card view">Cards</button>
            <button [class.active]="viewMode === 'table'" (click)="setViewMode('table')" role="tab"
                    [attr.aria-selected]="viewMode === 'table'" title="Table view">Table</button>
          </div>
        </div>
      </div>

      <!-- Cards View -->
      <div class="campaign-carousel" *ngIf="viewMode === 'cards'">
        <div class="carousel-nav">
          <button class="nav-btn prev" (click)="previousCampaigns()" [disabled]="currentCardPage === 0" 
                  title="Previous campaigns" aria-label="Navigate to previous campaigns">‚Äπ</button>
        </div>
        
        <div class="campaign-cards">
          <div class="campaign-card" *ngFor="let campaign of visibleCampaigns">
            <div class="card-header">
              <h4 class="campaign-name">{{campaign.name}}</h4>
              <span class="status-badge" [class]="'status-' + campaign.status">{{campaign.status}}</span>
            </div>
            
            <div class="campaign-details">
              <p class="campaign-meta">{{campaign.audience}} ‚Ä¢ {{campaign.channel}}</p>
              
              <div class="progress-section">
                <div class="progress-bar">
                  <div class="progress-fill" [style.width.%]="campaign.progress"></div>
                </div>
                <div class="progress-text">{{campaign.sent}} / {{campaign.total}} sent ({{campaign.progress}}%)</div>
              </div>
              
              <div class="action-buttons">
                <button class="action-btn pause" *ngIf="campaign.status === 'active'" (click)="pauseCampaign(campaign.name)"
                        title="Pause this campaign">Pause</button>
                <button class="action-btn resume" *ngIf="campaign.status === 'paused'" (click)="resumeCampaign(campaign.name)"
                        title="Resume this campaign">Resume</button>
                <button class="action-btn retry" *ngIf="campaign.status === 'failed'" (click)="showRetryCostModal(campaign)"
                        title="Retry failed messages">Retry (‚Çπ{{calculateRetryCost(campaign)}})</button>
                <button class="action-btn secondary">Error Analysis</button>
                <button class="action-btn primary">Optimize</button>
              </div>
            </div>
          </div>
        </div>
        
        <div class="carousel-nav">
          <button class="nav-btn next" (click)="nextCampaigns()" [disabled]="currentCardPage >= totalCardPages - 1"
                  title="Next campaigns" aria-label="Navigate to next campaigns">‚Ä∫</button>
        </div>
      </div>
      
      <!-- Table View -->
      <div class="campaign-table-container" *ngIf="viewMode === 'table'">
        <table class="campaign-table" role="table" aria-label="Campaign monitoring data table">
          <thead>
            <tr role="row">
              <th role="columnheader" scope="col">Campaign</th>
              <th role="columnheader" scope="col">Status</th>
              <th role="columnheader" scope="col">Channel</th>
              <th role="columnheader" scope="col">Progress</th>
              <th role="columnheader" scope="col">Sent/Total</th>
              <th role="columnheader" scope="col">Cost</th>
              <th role="columnheader" scope="col">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let campaign of allCampaigns" role="row">
              <td role="gridcell">
                <div class="campaign-name">{{campaign.name}}</div>
                <div class="campaign-audience">{{campaign.audience}}</div>
              </td>
              <td role="gridcell">
                <span class="status-badge" [class]="'status-' + campaign.status">{{campaign.status}}</span>
              </td>
              <td role="gridcell">{{campaign.channel}}</td>
              <td role="gridcell">
                <div class="table-progress">
                  <div class="progress-bar">
                    <div class="progress-fill" [style.width.%]="campaign.progress"></div>
                  </div>
                  <span class="progress-text">{{campaign.progress}}%</span>
                </div>
              </td>
              <td role="gridcell">{{campaign.sent}} / {{campaign.total}}</td>
              <td role="gridcell">‚Çπ{{getCampaignCost(campaign)}}</td>
              <td role="gridcell">
                <div class="table-actions">
                  <button class="action-btn-sm pause" *ngIf="campaign.status === 'active'" 
                          (click)="pauseCampaign(campaign.name)" title="Pause campaign">Pause</button>
                  <button class="action-btn-sm resume" *ngIf="campaign.status === 'paused'" 
                          (click)="resumeCampaign(campaign.name)" title="Resume campaign">Resume</button>
                  <button class="action-btn-sm retry" *ngIf="campaign.status === 'failed'" 
                          (click)="showRetryCostModal(campaign)" title="Retry failed messages">
                    Retry (‚Çπ{{calculateRetryCost(campaign)}})
                  </button>
                  <button class="action-btn-sm details" (click)="viewCampaignDetails(campaign.name)" 
                          title="View campaign details">Details</button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Enhanced Cost Optimization & Customer Intelligence -->
    <section class="cost-optimization-section">
      <div class="section-header">
        <h3>AI-Powered Cost Optimization</h3>
        <div class="ai-suggestion-tooltip" title="AI detected ‚Çπ2.9L annual savings through intelligent channel allocation">
          <span class="ai-icon">ü§ñ</span>
          <span class="suggestion-text">AI found ‚Çπ2.9L savings opportunity</span>
        </div>
      </div>
      
      <div class="cost-panels">
        <div class="cost-panel cpm-panel enhanced">
          <div class="panel-icon">
            <i class="pi pi-chart-pie"></i>
          </div>
          <div class="panel-content">
            <div class="panel-label">CPM (Cost per Thousand)</div>
            <div class="panel-value">‚Çπ180 <span class="trend negative">-15%</span></div>
            <div class="panel-detail">Industry avg: ‚Çπ245 ‚Ä¢ You're 27% below</div>
            <div class="optimization-tip">
              <strong>AI Recommendation:</strong> Allocate 25% more budget to WhatsApp (‚Çπ142 CPM) vs SMS (‚Çπ298 CPM)
            </div>
            <div class="channel-breakdown">
              <div class="breakdown-item">WhatsApp: ‚Çπ142</div>
              <div class="breakdown-item">SMS: ‚Çπ298</div>
              <div class="breakdown-item">Email: ‚Çπ89</div>
            </div>
          </div>
        </div>
        
        <div class="cost-panel cpc-panel enhanced">
          <div class="panel-icon">
            <i class="pi pi-mouse"></i>
          </div>
          <div class="panel-content">
            <div class="panel-label">CPC (Cost per Click)</div>
            <div class="panel-value">‚Çπ3.2 <span class="trend positive">+8%</span></div>
            <div class="panel-detail">Best in class: ‚Çπ2.1 ‚Ä¢ Potential: 34% improvement</div>
            <div class="optimization-tip">
              <strong>Strategy:</strong> Use interactive buttons in RCS messages for 40% lower CPC
            </div>
            <div class="channel-breakdown">
              <div class="breakdown-item">RCS Interactive: ‚Çπ1.9</div>
              <div class="breakdown-item">WhatsApp CTA: ‚Çπ2.8</div>
              <div class="breakdown-item">Email Links: ‚Çπ4.2</div>
            </div>
          </div>
        </div>
        
        <div class="cost-panel cpl-panel enhanced">
          <div class="panel-icon">
            <i class="pi pi-users"></i>
          </div>
          <div class="panel-content">
            <div class="panel-label">CPL (Cost per Lead)</div>
            <div class="panel-value">‚Çπ52 <span class="trend positive">+12%</span></div>
            <div class="panel-detail">Industry benchmark: ‚Çπ74 ‚Ä¢ You're 30% ahead</div>
            <div class="optimization-tip">
              <strong>Advanced Targeting:</strong> Use lookalike audiences for 25% better CPL
            </div>
            <div class="channel-breakdown">
              <div class="breakdown-item">WhatsApp Forms: ‚Çπ39</div>
              <div class="breakdown-item">RCS Surveys: ‚Çπ45</div>
              <div class="breakdown-item">Email Signup: ‚Çπ68</div>
            </div>
          </div>
        </div>
        
        <div class="cost-panel inactive-customers-panel enhanced">
          <div class="panel-icon">
            <i class="pi pi-clock"></i>
          </div>
          <div class="panel-content">
            <div class="panel-label">Inactive Customer Intelligence</div>
            <div class="panel-value">24.5K <span class="warning-badge">30+ days</span></div>
            <div class="panel-detail">Revenue at risk: ‚Çπ8.9L ‚Ä¢ Win-back potential: 18%</div>
            <div class="segmentation-insights">
              <div class="segment-item">
                <span class="segment-label">High-Value (‚Çπ5K+ LTV)</span>
                <span class="segment-count">3.2K customers</span>
                <span class="segment-action">Priority reactivation</span>
              </div>
              <div class="segment-item">
                <span class="segment-label">Medium-Value (‚Çπ1-5K LTV)</span>
                <span class="segment-count">12.8K customers</span>
                <span class="segment-action">Discount campaigns</span>
              </div>
              <div class="segment-item">
                <span class="segment-label">Low-Value (<‚Çπ1K LTV)</span>
                <span class="segment-count">8.5K customers</span>
                <span class="segment-action">Exclude from paid</span>
              </div>
            </div>
            <div class="panel-actions">
              <button class="exclusion-btn" (click)="createExclusionList()">Smart Exclusion List</button>
              <button class="winback-btn" (click)="createWinbackCampaign()">AI Win-back Campaign</button>
            </div>
          </div>
        </div>
        
        <div class="cost-panel opportunity-panel enhanced">
          <div class="panel-icon">
            <i class="pi pi-trophy"></i>
          </div>
          <div class="panel-content">
            <div class="panel-label">Optimization Opportunity</div>
            <div class="panel-value highlight">‚Çπ2.9L <span class="ai-badge">AI Powered</span></div>
            <div class="panel-detail">Annual savings potential ‚Ä¢ 24% budget efficiency gain</div>
            <div class="opportunity-breakdown">
              <div class="opportunity-item">
                <span class="opportunity-action">Channel Rebalancing</span>
                <span class="opportunity-savings">‚Çπ1.8L</span>
              </div>
              <div class="opportunity-item">
                <span class="opportunity-action">Time Optimization</span>
                <span class="opportunity-savings">‚Çπ0.7L</span>
              </div>
              <div class="opportunity-item">
                <span class="opportunity-action">Audience Refinement</span>
                <span class="opportunity-savings">‚Çπ0.4L</span>
              </div>
            </div>
            <div class="panel-actions">
              <button class="implement-btn">Implement All Recommendations</button>
              <button class="simulate-btn">Simulate Impact</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Advanced Cost Intelligence Dashboard -->
      <div class="cost-intelligence-grid">
        <div class="intelligence-panel">
          <h4>Real-time Cost Efficiency Matrix</h4>
          <div class="efficiency-matrix">
            <div class="matrix-headers">
              <span class="matrix-header">Channel</span>
              <span class="matrix-header">Current CPM</span>
              <span class="matrix-header">Efficiency Score</span>
              <span class="matrix-header">Recommended Action</span>
            </div>
            <div class="matrix-row excellent">
              <span class="channel-name">WhatsApp Business</span>
              <span class="cost-value">‚Çπ142</span>
              <span class="efficiency-score">94%</span>
              <span class="action-recommendation">Increase by 15%</span>
            </div>
            <div class="matrix-row good">
              <span class="channel-name">RCS Rich Cards</span>
              <span class="cost-value">‚Çπ198</span>
              <span class="efficiency-score">89%</span>
              <span class="action-recommendation">Test creative formats</span>
            </div>
            <div class="matrix-row average">
              <span class="channel-name">Email Campaigns</span>
              <span class="cost-value">‚Çπ89</span>
              <span class="efficiency-score">72%</span>
              <span class="action-recommendation">Optimize send times</span>
            </div>
            <div class="matrix-row poor">
              <span class="channel-name">SMS Bulk</span>
              <span class="cost-value">‚Çπ298</span>
              <span class="efficiency-score">68%</span>
              <span class="action-recommendation">Reduce by 30%</span>
            </div>
          </div>
        </div>
        
        <div class="intelligence-panel">
          <h4>Budget Allocation Simulator</h4>
          <div class="allocation-simulator">
            <div class="current-allocation">
              <h5>Current Distribution</h5>
              <div class="allocation-chart">
                <div class="allocation-bar current">
                  <div class="bar-segment whatsapp" style="width: 35%" title="WhatsApp: 35%">WA</div>
                  <div class="bar-segment sms" style="width: 25%" title="SMS: 25%">SMS</div>
                  <div class="bar-segment email" style="width: 20%" title="Email: 20%">EM</div>
                  <div class="bar-segment push" style="width: 10%" title="Push: 10%">PU</div>
                  <div class="bar-segment rcs" style="width: 10%" title="RCS: 10%">RCS</div>
                </div>
                <div class="allocation-metrics">
                  <span>Current ROI: 4.2x</span>
                  <span>Monthly Spend: ‚Çπ12.5L</span>
                </div>
              </div>
            </div>
            
            <div class="recommended-allocation">
              <h5>AI Recommended Distribution</h5>
              <div class="allocation-chart">
                <div class="allocation-bar recommended">
                  <div class="bar-segment whatsapp" style="width: 45%" title="WhatsApp: 45%">WA</div>
                  <div class="bar-segment rcs" style="width: 25%" title="RCS: 25%">RCS</div>
                  <div class="bar-segment email" style="width: 15%" title="Email: 15%">EM</div>
                  <div class="bar-segment sms" style="width: 10%" title="SMS: 10%">SMS</div>
                  <div class="bar-segment push" style="width: 5%" title="Push: 5%">PU</div>
                </div>
                <div class="allocation-metrics recommended">
                  <span>Projected ROI: 6.8x</span>
                  <span>Projected Spend: ‚Çπ9.6L</span>
                  <span class="savings">Monthly Savings: ‚Çπ2.9L</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Orchestration Analysis -->
    <section class="orchestration-section">
      <div class="section-header">
        <h3>Orchestration Analysis</h3>
      </div>
      
      <div class="orchestration-panels">
        <div class="orchestration-panel">
          <div class="panel-header">
            <h4>WhatsApp ‚Üí SMS</h4>
            <span class="recommendation-badge">Recommended</span>
          </div>
          <div class="orchestration-metrics">
            <div class="metric">
              <span class="metric-label">Success</span>
              <div class="metric-bar">
                <div class="metric-fill" style="width: 82%"></div>
              </div>
              <span class="metric-value">82.3%</span>
            </div>
            <div class="metric">
              <span class="metric-label">Fallback Rate</span>
              <div class="metric-bar">
                <div class="metric-fill" style="width: 18%"></div>
              </div>
              <span class="metric-value">18.4%</span>
            </div>
          </div>
        </div>
        
        <div class="orchestration-panel">
          <div class="panel-header">
            <h4>Email ‚Üí Push</h4>
          </div>
          <div class="orchestration-metrics">
            <div class="metric">
              <span class="metric-label">Success</span>
              <div class="metric-bar">
                <div class="metric-fill" style="width: 88%"></div>
              </div>
              <span class="metric-value">88.1%</span>
            </div>
            <div class="metric">
              <span class="metric-label">Fallback Rate</span>
              <div class="metric-bar">
                <div class="metric-fill" style="width: 13%"></div>
              </div>
              <span class="metric-value">12.6%</span>
            </div>
          </div>
        </div>
        
        <div class="orchestration-panel">
          <div class="panel-header">
            <h4>RCS ‚Üí WhatsApp ‚Üí SMS</h4>
          </div>
          <div class="orchestration-metrics">
            <div class="metric">
              <span class="metric-label">Success</span>
              <div class="metric-bar">
                <div class="metric-fill" style="width: 84%"></div>
              </div>
              <span class="metric-value">84.2%</span>
            </div>
            <div class="metric">
              <span class="metric-label">Fallback Rate</span>
              <div class="metric-bar">
                <div class="metric-fill" style="width: 26%"></div>
              </div>
              <span class="metric-value">26.1%</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Campaign Calendar (Moved up with toggle) -->
    <section class="campaign-calendar-section" [class.collapsed]="!showCampaignCalendar">
      <div class="section-header">
        <h3>Upcoming Campaign Calendar</h3>
        <div class="calendar-controls">
          <button class="toggle-calendar-btn" (click)="toggleCampaignCalendar()" 
                  [attr.aria-expanded]="showCampaignCalendar" 
                  title="{{showCampaignCalendar ? 'Hide' : 'Show'}} campaign calendar">
            <i class="pi" [class.pi-chevron-down]="!showCampaignCalendar" [class.pi-chevron-up]="showCampaignCalendar"></i>
            {{showCampaignCalendar ? 'Hide Calendar' : 'Show More Campaigns'}}
          </button>
          <select class="month-selector" *ngIf="showCampaignCalendar">
            <option>August 2025</option>
            <option>September 2025</option>
            <option>October 2025</option>
          </select>
        </div>
      </div>
      
      <div class="upcoming-campaigns" *ngIf="showCampaignCalendar">
        <div class="campaign-calendar-item">
          <div class="date-badge">
            <div class="date-day">19</div>
            <div class="date-month">Aug</div>
          </div>
          <div class="campaign-info">
            <h4>Raksha Bandhan Campaign</h4>
            <p>Send brother-sister themed promotions</p>
            <div class="campaign-tags">
              <span class="tag">WhatsApp</span>
              <span class="tag">Email</span>
            </div>
          </div>
          <button class="plan-btn" (click)="planCampaign('Raksha Bandhan')">Plan</button>
        </div>
        
        <div class="campaign-calendar-item">
          <div class="date-badge">
            <div class="date-day">29</div>
            <div class="date-month">Aug</div>
          </div>
          <div class="campaign-info">
            <h4>Ganesh Chaturthi Campaign</h4>
            <p>Festival-themed notifications</p>
            <div class="campaign-tags">
              <span class="tag">Push</span>
              <span class="tag">SMS</span>
            </div>
          </div>
          <button class="plan-btn" (click)="planCampaign('Ganesh Chaturthi')">Plan</button>
        </div>
        
        <div class="campaign-calendar-item">
          <div class="date-badge">
            <div class="date-day">02</div>
            <div class="date-month">Oct</div>
          </div>
          <div class="campaign-info">
            <h4>Dussehra Campaign</h4>
            <p>Victory celebrations and offers</p>
            <div class="campaign-tags">
              <span class="tag">RCS</span>
              <span class="tag">WhatsApp</span>
            </div>
          </div>
          <button class="plan-btn" (click)="planCampaign('Dussehra')">Plan</button>
        </div>
      </div>
    </section>

    <!-- BSP Performance -->
    <section class="bsp-performance-section">
      <div class="section-header">
        <h3>BSP Performance Comparison</h3>
        <div class="ai-suggestion-tooltip" title="AI recommends switching to Cloud API for 12% better delivery rates">
          <span class="ai-icon">ü§ñ</span>
          <span class="suggestion-text">Switch to Cloud API for +12% delivery improvement</span>
        </div>
      </div>
      
      <div class="bsp-categories">
        <!-- WhatsApp BSPs -->
        <div class="bsp-category">
          <h4>WhatsApp BSPs</h4>
          <div class="bsp-list">
            <div class="bsp-item recommended">
              <div class="bsp-info">
                <span class="bsp-name">Cloud API</span>
                <span class="bsp-badge">Recommended</span>
                <span class="bsp-price">‚Çπ0.08 / msg</span>
              </div>
              <div class="bsp-metrics">
                <span class="metric">Delivery 97.8%</span>
                <span class="metric">Engagement 82.1%</span>
              </div>
              <button class="select-btn selected">Select</button>
            </div>
            
            <div class="bsp-item">
              <div class="bsp-info">
                <span class="bsp-name">MM Lite</span>
                <span class="bsp-price">‚Çπ0.055 / msg</span>
              </div>
              <div class="bsp-metrics">
                <span class="metric">Delivery 94.2%</span>
                <span class="metric">Engagement 78.3%</span>
              </div>
              <button class="select-btn">Select</button>
            </div>
          </div>
        </div>
        
        <!-- RCS BSPs -->
        <div class="bsp-category">
          <h4>RCS BSPs</h4>
          <div class="bsp-list">
            <div class="bsp-item recommended">
              <div class="bsp-info">
                <span class="bsp-name">Karix</span>
                <span class="bsp-badge">Recommended</span>
                <span class="bsp-price">‚Çπ0.15 / msg</span>
              </div>
              <div class="bsp-metrics">
                <span class="metric">Delivery 92.1%</span>
                <span class="metric">Engagement 75.4%</span>
              </div>
              <button class="select-btn selected">Select</button>
            </div>
            
            <div class="bsp-item">
              <div class="bsp-info">
                <span class="bsp-name">TCL</span>
                <span class="bsp-price">‚Çπ0.12 / msg</span>
              </div>
              <div class="bsp-metrics">
                <span class="metric">Delivery 89.3%</span>
                <span class="metric">Engagement 71.8%</span>
              </div>
              <button class="select-btn">Select</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Festival Performance Timeline -->
    <section class="festival-section">
      <div class="section-header">
        <h3>Festival Performance Timeline</h3>
        <div class="filter-tabs">
          <button class="tab-btn active">Revenue</button>
          <button class="tab-btn">Conversion</button>
          <button class="tab-btn">Roi</button>
        </div>
      </div>
      
      <div class="festival-timeline">
        <div class="festival-card">
          <div class="festival-icon">ü™î</div>
          <div class="festival-info">
            <h4>Diwali</h4>
            <div class="festival-value">‚Çπ8.7L</div>
            <div class="festival-metrics">24.8% conversion ‚Ä¢ 12.4x ROI</div>
          </div>
        </div>
        
        <div class="festival-card">
          <div class="festival-icon">üé≠</div>
          <div class="festival-info">
            <h4>Navratri</h4>
            <div class="festival-value">‚Çπ5.2L</div>
            <div class="festival-metrics">18.5% conversion ‚Ä¢ 8.7x ROI</div>
          </div>
        </div>
        
        <div class="festival-card">
          <div class="festival-icon">üé®</div>
          <div class="festival-info">
            <h4>Holi</h4>
            <div class="festival-value">‚Çπ4.1L</div>
            <div class="festival-metrics">17.8% conversion ‚Ä¢ 6.8x ROI</div>
          </div>
        </div>
        
        <div class="festival-card">
          <div class="festival-icon">üáÆüá≥</div>
          <div class="festival-info">
            <h4>Independence Day</h4>
            <div class="festival-value">‚Çπ3.8L</div>
            <div class="festival-metrics">16.2% conversion ‚Ä¢ 5.4x ROI</div>
          </div>
        </div>
      </div>

      <!-- Festival Insights -->
      <div class="festival-insights">
        <div class="insights-section">
          <h4>Peak Performance Insights</h4>
          <div class="insight-grid">
            <div class="insight-item">
              <strong>Best Month:</strong> Oct
              <span class="insight-value">46.2% revenue</span>
            </div>
            <div class="insight-item">
              <strong>Peak Hour:</strong> 11 AM
              <span class="insight-value">24.8% conversion</span>
            </div>
            <div class="insight-item">
              <strong>Best Days:</strong> Weekend
              <span class="insight-value">+42% engagement</span>
            </div>
          </div>
        </div>
        
        <div class="opportunities-section">
          <h4>Upcoming Opportunities</h4>
          <div class="opportunity-list">
            <div class="opportunity-item">
              <strong>Independence Day 2025</strong>
              <span class="opportunity-date">15 Aug, 2025</span>
              <button class="plan-btn">Plan Campaign</button>
            </div>
            <div class="opportunity-item">
              <strong>Navratri 2025</strong>
              <span class="opportunity-date">Start Sep 2025</span>
              <button class="plan-btn secondary">50 Days</button>
            </div>
          </div>
        </div>
      </div>
    </section>



    <!-- Performance vs Budget Analysis -->
    <section class="performance-budget-section">
      <div class="section-header">
        <h3>Performance vs Budget Analysis</h3>
        <div class="analysis-controls">
          <select [(ngModel)]="selectedCampaignForAnalysis" (change)="onCampaignAnalysisChange()" class="campaign-selector">
            <option *ngFor="let option of campaignAnalysisOptions" [value]="option.value">{{option.label}}</option>
          </select>
        </div>
      </div>
      
      <div class="performance-comparison" *ngIf="selectedCampaignForAnalysis">
        <div class="comparison-grid">
          <!-- Pre-optimization -->
          <div class="comparison-card pre-optimization">
            <h4>Pre-Optimization</h4>
            <div class="metrics">
              <div class="metric-item">
                <span class="metric-label">Total Cost</span>
                <span class="metric-value">‚Çπ{{formatNumber(campaignPerformanceData.preCost)}}</span>
              </div>
              <div class="metric-item">
                <span class="metric-label">Revenue</span>
                <span class="metric-value">‚Çπ{{formatNumber(campaignPerformanceData.preRevenue)}}</span>
              </div>
              <div class="metric-item">
                <span class="metric-label">Conversion Rate</span>
                <span class="metric-value">{{campaignPerformanceData.preConversion}}%</span>
              </div>
              <div class="metric-item">
                <span class="metric-label">ROI</span>
                <span class="metric-value">{{campaignPerformanceData.preROI}}%</span>
              </div>
            </div>
          </div>
          
          <!-- Arrow -->
          <div class="optimization-arrow">
            <div class="arrow-icon">‚Üí</div>
            <div class="optimization-label">AI Optimization</div>
          </div>
          
          <!-- Post-optimization -->
          <div class="comparison-card post-optimization">
            <h4>Post-Optimization</h4>
            <div class="metrics">
              <div class="metric-item">
                <span class="metric-label">Total Cost</span>
                <span class="metric-value savings">‚Çπ{{formatNumber(campaignPerformanceData.postCost)}}</span>
                <span class="change negative">-{{((campaignPerformanceData.preCost - campaignPerformanceData.postCost) / campaignPerformanceData.preCost * 100).toFixed(1)}}%</span>
              </div>
              <div class="metric-item">
                <span class="metric-label">Revenue</span>
                <span class="metric-value growth">‚Çπ{{formatNumber(campaignPerformanceData.postRevenue)}}</span>
                <span class="change positive">+{{((campaignPerformanceData.postRevenue - campaignPerformanceData.preRevenue) / campaignPerformanceData.preRevenue * 100).toFixed(1)}}%</span>
              </div>
              <div class="metric-item">
                <span class="metric-label">Conversion Rate</span>
                <span class="metric-value growth">{{campaignPerformanceData.postConversion}}%</span>
                <span class="change positive">+{{(campaignPerformanceData.postConversion - campaignPerformanceData.preConversion).toFixed(1)}}</span>
              </div>
              <div class="metric-item">
                <span class="metric-label">ROI</span>
                <span class="metric-value growth">{{campaignPerformanceData.postROI}}%</span>
                <span class="change positive">+{{(campaignPerformanceData.postROI - campaignPerformanceData.preROI).toFixed(0)}}%</span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Key Insights -->
        <div class="optimization-insights">
          <h4>Key Optimization Results</h4>
          <div class="insights-grid">
            <div class="insight-card">
              <div class="insight-icon savings">üí∞</div>
              <div class="insight-content">
                <div class="insight-value">‚Çπ{{formatNumber(campaignPerformanceData.preCost - campaignPerformanceData.postCost)}}</div>
                <div class="insight-label">Cost Saved</div>
              </div>
            </div>
            <div class="insight-card">
              <div class="insight-icon revenue">üìà</div>
              <div class="insight-content">
                <div class="insight-value">‚Çπ{{formatNumber(campaignPerformanceData.postRevenue - campaignPerformanceData.preRevenue)}}</div>
                <div class="insight-label">Additional Revenue</div>
              </div>
            </div>
            <div class="insight-card">
              <div class="insight-icon efficiency">‚ö°</div>
              <div class="insight-content">
                <div class="insight-value">{{((campaignPerformanceData.postRevenue - campaignPerformanceData.preRevenue + campaignPerformanceData.preCost - campaignPerformanceData.postCost) / campaignPerformanceData.preCost * 100).toFixed(0)}}%</div>
                <div class="insight-label">Overall Improvement</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

  </div>
</div>