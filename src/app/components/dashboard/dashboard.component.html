<!-- Modern Dashboard Layout -->
<div class="dashboard-container">
  <!-- Header Section with Enhanced Design -->
  <div class="dashboard-header flex align-items-center justify-content-between mb-6 p-4 bg-white border-round-lg shadow-2">
    <div>
      <h1 class="text-3xl font-bold text-900 m-0 mb-2">Campaign Manager</h1>
      <p class="text-lg text-600 m-0">Monitor and manage your multichannel marketing campaigns</p>
    </div>
    <div class="flex align-items-center gap-3">
      <p-dropdown 
        [options]="dateRangeOptions" 
        [(ngModel)]="selectedDateRange"
        optionLabel="label"
        optionValue="value"
        styleClass="w-auto">
      </p-dropdown>
      <p-button 
        label="Create Campaign" 
        icon="pi pi-plus"
        styleClass="p-button-primary p-button-lg"
        (onClick)="onCreateCampaign()">
      </p-button>
    </div>
  </div>

  <!-- Executive Summary - Enhanced KPI Cards -->
  <div class="mb-6">
    <app-kpi-cards></app-kpi-cards>
  </div>

  <!-- Live Campaign Notifications (Always visible for real-time updates) -->
  <div class="mb-6">
    <app-campaign-notifications></app-campaign-notifications>
  </div>

  <!-- Main Dashboard Grid Layout - 3 Column Responsive Design -->
  <div class="grid dashboard-main-grid">
    <!-- Left Column - Performance Analytics & Journey Orchestration -->
    <div class="col-12 lg:col-4">
      <div class="flex flex-column gap-4">
        <app-channel-performance></app-channel-performance>
        <app-heat-map></app-heat-map>
        <app-journey-orchestration></app-journey-orchestration>
      </div>
    </div>

    <!-- Center Column - Campaign Monitoring & Budget Calculator -->
    <div class="col-12 lg:col-4">
      <div class="flex flex-column gap-4">
        <app-campaign-monitoring></app-campaign-monitoring>
        <app-budget-calculator></app-budget-calculator>
      </div>
    </div>

    <!-- Right Column - AI Insights & Advanced Features -->
    <div class="col-12 lg:col-4">
      <div class="flex flex-column gap-4">
        <app-ai-suggestions></app-ai-suggestions>
        <app-bsp-comparison></app-bsp-comparison>
        
        <!-- Data-dependent sections that appear based on data age -->
        <app-inactive-customers *ngIf="dataAge >= 30"></app-inactive-customers>
        <app-festival-calendar *ngIf="dataAge >= 45"></app-festival-calendar>
      </div>
    </div>
  </div>

  <!-- Advanced Analytics Section (60+ days data) -->
  <div class="advanced-analytics-section mt-6" *ngIf="dataAge >= 60">
    <div class="mb-4">
      <h2 class="text-2xl font-bold text-900 mb-2">Advanced Analytics</h2>
      <p class="text-600">Long-term insights and trend analysis with historical data</p>
    </div>
    
    <div class="grid">
      <div class="col-12 md:col-6">
        <p-card>
          <ng-template pTemplate="header">
            <div class="p-4">
              <h3 class="text-lg font-semibold m-0">Trend Analysis</h3>
            </div>
          </ng-template>
          <div class="p-4 text-center">
            <i class="pi pi-chart-line text-4xl text-blue-500 mb-3"></i>
            <div class="text-600 mb-3">60+ day performance trends and predictions</div>
            <div class="grid text-center">
              <div class="col-6">
                <div class="text-xl font-bold text-green-600">+23%</div>
                <div class="text-xs text-600">Conversion Growth</div>
              </div>
              <div class="col-6">
                <div class="text-xl font-bold text-blue-600">-12%</div>
                <div class="text-xs text-600">Cost Reduction</div>
              </div>
            </div>
          </div>
        </p-card>
      </div>
      
      <div class="col-12 md:col-6">
        <p-card>
          <ng-template pTemplate="header">
            <div class="p-4">
              <h3 class="text-lg font-semibold m-0">Customer Lifetime Value</h3>
            </div>
          </ng-template>
          <div class="p-4 text-center">
            <i class="pi pi-users text-4xl text-green-500 mb-3"></i>
            <div class="text-600 mb-3">CLV analysis with historical data</div>
            <div class="grid text-center">
              <div class="col-6">
                <div class="text-xl font-bold text-green-600">$245</div>
                <div class="text-xs text-600">Avg CLV</div>
              </div>
              <div class="col-6">
                <div class="text-xl font-bold text-purple-600">18.5mo</div>
                <div class="text-xs text-600">Avg Lifetime</div>
              </div>
            </div>
          </div>
        </p-card>
      </div>
    </div>
  </div>

  <!-- Footer Statistics - Enhanced with Data Age Indicators -->
  <div class="dashboard-footer mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 border-round-lg">
    <div class="grid text-center">
      <div class="col-6 md:col-3">
        <div class="text-2xl font-bold text-900">{{totalCampaigns}}</div>
        <div class="text-sm text-600">Total Campaigns</div>
      </div>
      <div class="col-6 md:col-3">
        <div class="text-2xl font-bold text-green-600">{{totalReach | number}}</div>
        <div class="text-sm text-600">Total Reach</div>
      </div>
      <div class="col-6 md:col-3">
        <div class="text-2xl font-bold text-blue-600">${{totalSpend | number}}</div>
        <div class="text-sm text-600">Total Spend</div>
      </div>
      <div class="col-6 md:col-3">
        <div class="text-2xl font-bold text-purple-600">{{dataAge}} days</div>
        <div class="text-sm text-600">Data History</div>
        <div class="text-xs text-500 mt-1">{{getDataAgeDescription()}}</div>
      </div>
    </div>
  </div>

  <!-- Quick Actions Menu -->
  <div class="quick-actions-menu fixed bottom-4 right-4">
    <p-button 
      icon="pi pi-plus"
      styleClass="p-button-primary p-button-lg border-round-3"
      [style]="{'width': '60px', 'height': '60px'}"
      pTooltip="Quick Actions"
      tooltipPosition="left"
      (onClick)="onCreateCampaign()">
    </p-button>
  </div>
</div>